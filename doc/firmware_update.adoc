include::resources/styles.adoc[]
ifndef::root[:root: ../]

== Firmware Update
Firmware binaries can be found in the "Releases" section of the GitHub page. The three files in the "binaries.zip" folder are necessary to perform a firmware update:
- bootloader.bin
- partition-table.bin
- application.bin

=== "Developer Boards" (up to v0.3)
. Download and install the CP210X Universal Windows Drivers for the on-board programmer at this website:
https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers?tab=downloads

. Download the Espressif Flash Download Tool at this website:
https://www.espressif.com/en/support/download/other-tools

. Run the .exe application and select "ESP32" as target and "Develop" as work mode when prompted. In the following screen upload the three binary files in the order at the addresses shown in the screenshot below:

+
[align=center]
.ESP Flash Tool
image::{root}doc/pictures/flash_tool.png[width=60%]
+

. Connect the PC to the USB port on the Blue-64 and select the appropriate COM port in the Flash Download Tool. Press the "erase" button to erase the FLASH and finally press "start" and the new firmware will be downloaded to the board (should take less than a minute).

. In case the method above does not work, please try the online tool at this website: https://espressif.github.io/esptool-js/

Don't worry you can't brick it (as far as I know), if something fails you will always be able to re-try flashing the new firmware.

=== "Regular Boards" (v1.0 and above)
. Format an SD card to FAT32.
. Copy application.bin to the root of the SD card.
. Switch off the C64 and insert the SD card into the dedicated slot on the Blue-64 board.
. Switch on the C64, after a few seconds an on-screen prompt will state that the update has started. If the prompt does not appear within 10 seconds it means that the ESP cannot mount the SD card or cannot find the application.bin file in its root.
. After about a minute an on-screen prompt will communicate the result of the update procedure.
. Switch off the C64, remove the SD-Card and switch on again.
, Navigate to the Device-Info entry on the on-screen menu and verify that the latest version is currently running on the device.
